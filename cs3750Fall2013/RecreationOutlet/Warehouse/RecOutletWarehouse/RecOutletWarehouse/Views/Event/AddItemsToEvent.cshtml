@model RecOutletWarehouse.Controllers.EventController.ItemEventViewModel

@{
    ViewBag.Title = "AddItemsToEvent";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

<h2>Add Items to an Event</h2>

@using(Html.BeginForm()){
    <fieldset>
        <legend>Information about the item</legend>
        <div>
            Add to Event:
        </div>
        <div>
            @Html.DropDownList("EventToAddTo", Model.Events)
        </div>
        <div>
            Item to add:
        </div>
        <div>
            @Html.TextBoxFor(model => model.ItemName)
        </div>
        <div>
            Original price:
        </div>
        <div>
            @Html.TextBoxFor(model => model.OrigPriceOfItem)
        </div>
        <div>
            Sale Price:
        </div>
        <div>
            @Html.TextBoxFor(model => model.SalePriceOfItem)
        </div>
        <input type="submit" value="Submit" />
    </fieldset>
}
<table>
    <tr>
        <th>
            Item Name
        </th>
        <th>
            RPC
        </th>
        <th>
            Original Selling Price
        </th>
        <th>
            Sale Price
        </th>
        <th>
            % Off
        </th>
        <th>
            Actions
        </th>
    </tr>
    @foreach(var item in Model.SalePrices){
        <tr>
            <td>
                @Html.DisplayFor(model => item.ITEM.Name)
            </td>
            <td>
                @Html.DisplayFor(model => item.RecRPC)
            </td>
            <td>
                @Html.DisplayFor(model => item.ITEM.SellPrice)
            </td>
            <td>
                @Html.DisplayFor(model => item.SalePrice)
            </td>
            <td>
                @(String.Format("%{0:0.00}", (1 - item.SalePrice / item.ITEM.SellPrice) * 100))
            </td>
            <td>
                TODO: Menu
            </td>
        </tr>
    }
</table>