@model RecOutletWarehouse.Models.VendorManagement.Vendor

@{
    ViewBag.Title = "Add New Vendor";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

@section tabnavigation{
    <ul class="nav clearfix">
        <li class="active">@Html.ActionLink("Add a Vendor", "AddVendor")</li>
        <li>@Html.ActionLink("Add a Product Line","CreateNewPL")</li>
        <li>@Html.ActionLink("Manage Sales Reps","ManageReps")</li>
    </ul>  
}

<h2>Add New Vendor</h2>

@if (ViewBag.Success != null) {
    <ul>
        <li class="successful-insert">@ViewBag.Success</li>
    </ul>
}

@using (Html.BeginForm()) {
    <fieldset>
        <legend>Vendor</legend>
             <table>

        <tr>
            <td>&nbsp Vendor Name:<strong class="required">*</strong></td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.VendorName, new { @id = "VendorName" })
                @Html.ValidationMessageFor(newVendor => newVendor.VendorName)
            </td>

            <td>&nbsp Website: </td>
            <td colspan="5">
                @Html.TextBoxFor(newVendor => newVendor.Website, new { @class = "VendorWebSite" })
                @Html.ValidationMessageFor(newVendor => newVendor.Website)
            </td>

            </tr><tr>
             <td>&nbsp Address:<strong class="required">*</strong></td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.Address)
                @Html.ValidationMessageFor(newVendor => newVendor.Address)
            </td>

            <td>&nbsp City:<strong class="required">*</strong></td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.City)
                @Html.ValidationMessageFor(newVendor => newVendor.City)
            </td>

            <td>&nbsp State:<strong class="required">*</strong></td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.State, new { @class = "VendorState" })
                @Html.ValidationMessageFor(newVendor => newVendor.State)
            </td>

             <td>&nbsp Zip:<strong class="required">*</strong></td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.Zip, new { @class = "VendorZip" })
                @Html.ValidationMessageFor(newVendor => newVendor.Zip)
            </td>

            </tr>
            

            
       </table>
        </fieldset>
    
       <fieldset>
        <legend>Contact Information</legend>
             <table>
                 <tr>
                  <td>&nbsp Name:</td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.ContactName)
                @Html.ValidationMessageFor(newVendor => newVendor.ContactName)
            </td>

            <td>&nbsp Phone Number:<strong class="required">*</strong></td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.ContactPhone, new { @class = "VendorPhone" })
                @Html.ValidationMessageFor(newVendor => newVendor.ContactPhone)
            </td>
            </tr>

            <tr>
            <td>&nbsp Fax Number:</td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.ContactFax, new { @class = "VendorPhone" })
                @Html.ValidationMessageFor(newVendor => newVendor.ContactFax)
            </td>
    
            <td>&nbsp Alternate Phone Number:</td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.AltPhone, new { @class = "VendorPhone" })
                @Html.ValidationMessageFor(newVendor => newVendor.AltPhone)
            </td>
   
           </tr>
      </table>
        </fieldset>
    <input type="submit" value="Add New Vendor" onclick="submit()"/>
    <input type="submit" value="Add Vendor, Create Product Line"  name="labelRedirect" onclick="submit()" />
    <input type="button" value="Cancel" onclick="prompt()" />
    
}

<script type ="text/javascript">
    $(function () {
        $("#VendorName").focus();
    });

    //window.onbeforeunload = function () {
    //    return "Changes to new vendor will not be saved.";
    //};

    function prompt() {
        var p = confirm("Changes to vendor have not been saved! Continue?");

        if (p == true) {
            window.location = "@Url.Action("Index", "Home")"
            }
        }

    function submit() {
        var s = confirm("New vendor has been created!");

        if (s == true) {
            window.location = "@Url.Action("Index", "Home")"
            }
        }
</script>