@model RecOutletWarehouse.Models.VendorManagement.Vendor

@{
    ViewBag.Title = "Add New Vendor";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

@section tabnavigation{
    <ul class="nav clearfix">
        <li class="active">@Html.ActionLink("Add a Vendor", "AddVendor")</li>
        <li>@Html.ActionLink("Add a Product Line","CreateNewPL")</li>
        <li>@Html.ActionLink("Manage Sales Reps","ManageReps")</li>
    </ul>  
}

<h2>Add New Vendor</h2>

@if (ViewBag.Success != null) {
    <ul>
        <li class="successful-insert">@ViewBag.Success</li>
    </ul>
}

@using (Html.BeginForm()) {
    <table>
        <tr>
            <td>Vendor Name<strong class="required">*</strong></td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.VendorName, new { @id = "VendorName" })
                @Html.ValidationMessageFor(newVendor => newVendor.VendorName)
            </td>
        </tr>
        <tr>
            <td>Contact Name</td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.ContactName)
                @Html.ValidationMessageFor(newVendor => newVendor.ContactName)
            </td>
        </tr>
        <tr>
            <td>Contact Phone Number<strong class="required">*</strong></td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.ContactPhone)
                @Html.ValidationMessageFor(newVendor => newVendor.ContactPhone)
            </td>
        </tr>
        <tr>
            <td>Contact Fax Number</td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.ContactFax)
                @Html.ValidationMessageFor(newVendor => newVendor.ContactFax)
            </td>
        </tr>
        <tr>
            <td>Alternate Phone Number</td>
            <td>
                @Html.TextBoxFor(newVendor => newVendor.AltPhone)
                @Html.ValidationMessageFor(newVendor => newVendor.AltPhone)
            </td>
        </tr>
        <tr>
            <td>Address<strong class="required">*</strong></td>
            <td>
                @Html.TextAreaFor(newVendor => newVendor.Address)
                @Html.ValidationMessageFor(newVendor => newVendor.Address)
            </td>
        </tr>
         <tr>
            <td>Website</td>
            <td>
                @Html.TextAreaFor(newVendor => newVendor.Website)
                @Html.ValidationMessageFor(newVendor => newVendor.Website)
            </td>
        </tr>
    </table>
    <input type="submit" value="Add New Vendor" onclick="submit()"/>
    <input type="button" value="Cancel" onclick="prompt()" />
    
}

<script type ="text/javascript">
    $(function () {
        $("#VendorName").focus();
    });

    //window.onbeforeunload = function () {
    //    return "Changes to new vendor will not be saved.";
    //};

    function prompt() {
        var p = confirm("Changes to vendor have not been saved! Continue?");

        if (p == true) {
            window.location = "@Url.Action("Index", "Home")"
            }
        }

    function submit() {
        var s = confirm("New vendor has been created!");

        if (s == true) {
            window.location = "@Url.Action("Index", "Home")"
            }
        }
</script>